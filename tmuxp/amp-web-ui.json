{
  "session_name": "amp-web-ui",
  "start_directory": "~/projects/app",
  "windows": [
    {
      "window_name": "git",
      "panes": [
        "git status"
      ]
    },
    {
      "window_name": "vim",
      "panes": [
        "vim"
      ]
    },
    {
      "window_name": "web-ui (app/tests)",
      "layout": "even-horizontal",
      "start_directory": "~/projects/app/service/web/web-ui",
      "panes": [
        {
          "shell_command": [
            "docker-compose up -d web-proxy",
            "lein refresh && shadow-cljs watch app --config-merge '{:devtools {:preloads [hashp.core]}}'"
          ]
        },
        "echo shadow-cljs watch test"
      ]
    },
    {
      "window_name": "storybook (sb/stories/tests)",
      "layout": "even-horizontal",
      "start_directory": "~/projects/app/lib/design",
      "panes": [
        {
          "shell_command": [
            "npm i",
            "echo npm run storybook"
          ]
        },
        "echo lein refresh && npx shadow-cljs watch stories",
        "echo shadow-cljs watch test"
      ]
    },
    {
      "window_name": "cypress (tests/cypress/sidecar)",
      "layout": "even-horizontal",
      "start_directory": "~/projects/app/service/web/web-ui-cypress",
      "panes": [
        "echo lein refresh && shadow-cljs watch cypress",
        "echo npx cypress open",
        {
          "shell_command": [
            "cd ../web-test-sidecar",
            "echo lein run:aws-dev daemon"
          ]
        }
      ]
    }
  ]
}
